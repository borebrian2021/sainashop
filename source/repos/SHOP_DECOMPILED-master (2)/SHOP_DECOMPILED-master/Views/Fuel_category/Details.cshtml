@model SHOP_DECOMPILED.Models.Fuel_category

@{
    ViewData["Title"] = "Fuel levels";
    Layout = "~/Views/Shared/fuel_layout.cshtml";
}
<br />
@*<small>Navigation</small>*@
<ul class="breadcrumb">
    <li class="breadcrumb-item"><a href="~/Fuel_category/index"></a></li>
    <li class="breadcrumb-item"><a href="~/Fuel_category/index">Registered fuel</a></li>
    <li class="breadcrumb-item active">Fuel details</li>
    <li class="breadcrumb-item active"></li>
</ul>
<br />
<div class="container-fluid w3-card p-3 bg-white">
    <table>
        <tr>
            <td class="pr-3"><img src="~/fuel_icons/fuel_station.png" class="logo_card" /></td>
            <td class="pl-3 border_left">
                <h5>Approximated fuel level for <strong>@Html.DisplayFor(model => model.Fuel_names)</strong>?NB:Use button bellow to set level for getting SMS reminder of fuel levels.</h5>


            </td>
        </tr>
    </table>

</div>
<br />
<div class="row mb-5">
    <div class="col-lg-6">

        @{

            double full_capacity = Model.Tank_capacity;
            double current = Model.Current_quantity;
            double height = (current / full_capacity) * 300;
            double real_height = 300 - height;
            var add_px = real_height + "px";

        }
        <div class="image-flip">
            <div class="mainflip flip-0">
                <div class="frontside">
                    <div class="card w3-card ">
                        <div class="card-header text-white text-left custome_card_head">
                            <table>
                                <tr>
                                    <td class="text-uppercase">
                                        <i class="fa fa-tint" aria-hidden="true"></i>&nbsp;              @Html.DisplayFor(model => model.Fuel_names)&nbsp;
                                        &nbsp;

                                    </td>
                                    <td>
                                        |&nbsp;Fuel level in tank
                                    </td>
                                </tr>
                            </table>

                        </div>
                        <div class="card-body text-left">
                            <div class="row">
                                <div class="col-lg-7 col-7">

                                    <div class="tank_outer_holder">
                                        <div class="row  tank_row ">
                                            <div class="tank_lid">
                                            </div>
                                        </div>
                                        <div class="card w3-card p-0 container_outside">
                                            <div class="tank_levels" style="height:@add_px">






                                            </div>
                                            @*<div class="card-body text-left">
                                                <p><img class="img-fluid" src="~/images/System/messagesNew.png" alt="card image" style="height:40px;width:40px;"></p>
                                                <h4 class="card-title">Messages</h4>
                                                <p class="card-text">67</p>*@

                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-3">
                                    <table>
                                        <tr>
                                            <td><div class="dot fuel"></div></td>
                                            <td><small>@Html.DisplayFor(model => model.Fuel_names)&nbsp;</small></td>
                                        </tr>
                                        <tr>
                                            <td><div class="dot"></div></td>
                                            <td>
                                                <small>
                                                    Ksh.&nbsp;@Html.DisplayFor(model => model.Price)&nbsp;<br />

                                                </small>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><div class="dot capacity"></div></td>
                                            <td>
                                                <small>
                                                    &nbsp;@Html.DisplayFor(model => model.Tank_capacity)&nbsp;Litres<br />

                                                </small>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><div class="dot current_capacity"></div></td>
                                            <td>
                                                <small>
                                                    &nbsp;@Html.DisplayFor(model => model.Current_quantity)&nbsp;Litres<br />

                                                </small>
                                            </td>
                                        </tr>

                                    </table>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-6">

        @*<dl class="dl-horizontal">
                <dt>
                    @Html.DisplayNameFor(model => model.Fuel_names)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Fuel_names)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.Tank_capacity)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Tank_capacity)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.Current_quantity)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Current_quantity)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.Price)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Price)
                </dd>
            </dl>*@
        <div class="container-fluid">
            <table>
                <tr>
                    <td colspan="2">
                        <h4> <strong>Indicators</strong></h4>
                    </td>
                </tr>
                <tr>
                    <td><div class="dot fuel"></div></td>
                    <td><strong class="text-muted">Fuel type&nbsp;</strong></td>
                </tr>
                <tr>
                    <td><div class="dot"></div></td>
                    <td>
                        <strong class="text-muted">
                            Current selling price&nbsp;<br />

                        </strong>
                    </td>
                </tr>
                <tr>
                    <td><div class="dot capacity"></div></td>
                    <td>
                        <strong class="text-muted">
                            Full tank capacity in LItres

                        </strong>
                    </td>
                </tr>
                <tr>
                    <td><div class="dot current_capacity"></div></td>
                    <td>
                        <strong class="text-muted">
                            Fuel left

                        </strong>
                    </td>
                </tr>
            </table>
            <table class="mt-3">
                <tr>
                    <td colspan="3"><h4><strong><i class="fa fa-bell"></i>&nbsp;Notification level</strong></h4></td>
                </tr>
                <tr>
                    <td colspan="3"><small class="text-muted">SMS notification is triggered automatically when fuel level goes bellow the following level.</small></td>

                </tr>
                <tr>
                    <td><i class="fa fa-thermometer-empty"></i></td>
                    <td>@ViewBag.Fuel_level&nbsp; Litres</td>
                    <td>
                        <i class="fa fa-clock-o"></i>&nbsp;Last set:&nbsp;@ViewBag.last_set&nbsp;
                    </td>

                </tr>

            </table>
            @if (User.Identity.IsAuthenticated)
            {
                <table class="w-100">
                    <tr>
                        <td>
                            <button data-toggle="modal" data-target="#notify" class="btn btn-light text-dark w3-card  font_custome"><i class="fa fa-cog"></i>&nbsp;Settings</button>
                        </td>

                    </tr>
                    <tr>
                        <td>
                            <a asp-action="Edit" asp-route-id="@Model.id" class="btn btn-light text-dark w3-card  font_custome "><i class="fa fa-pencil"></i>&nbsp;Modify details</a>

                        </td>

                    </tr>
                    <tr>
                        <td>
                            <a class="btn  bg-danger w3-card font_custome text-white" asp-action="delete" asp-route-id="@Model.id">Delete &nbsp;<i class="fa fa-check"></i></a>

                        </td>

                    </tr>
                </table>
            }
            </div>
    </div>
</div>
<div>
    <a class="btn btn-sm w3-card bg-white m-2" onclick="goBack();"><i class="fa fa-angle-double-left"></i>&nbsp;Back</a> 
</div>
<div class="modal fade" id="notify">
    <div class="modal-dialog">
        <div class="modal-content w3-card">
            <div class="modal-header ">
                <table style="width:100%">
                   
                    <tr>
                        <td>
                            <i class="fa fa-wrench"></i>
                        </td>
                        <td class="text-right">
                            SMS SETTINGS
                        </td>
                    </tr>
                </table>




            </div>
            <!-- Modal Header -->
            <div class="modal-body text-center">
                <form asp-action="change_sms_settings">
                    <table style="width:100%;">
                        <tr>
                            <td>SMS Status: &nbsp;@ViewBag.sms_status</td>
                          
                        </tr>
                        <tr>
                          
                                <td>
                                    <div class="custom-control custom-switch mt-3">
                                        @if (ViewBag.sms_status == "Off")
                                        {
                                            <label >Turn On SMS notification.</label>
                                            <br />
                                            <br />
                                            <select  name="status" class="form-control">
                                                <option value="On">On</option>
                                                <option value="Off" selected>Off</option>

                                            </select>
                                        }
                                        else
                                        {

                                            <label >Turn  off SMS notification</label>
                                            <br />
                                            <select name="status" asp-for="Fuel_names" class="form-control">
                                                <option value="On" selected>On</option>

                                                <option value="Off" >Off</option>

                                            </select>
                                        }
                                    </div>

                                </td>
                        
                        </tr>
                        <tr>
                            <td>Slide to set level</td>
                        </tr>
                        <tr>
                            <td>
                                <div class="slidecontainer">
                                    <input name="fuel_id" value="@Model.id" hidden />
                                    <input type="range" name="level" min="0" max="@Html.DisplayFor(model => model.Tank_capacity)" class="slider" id="myRange">
                                    <p> <span id="demo"> </span>&nbsp;Litres</p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">
                                <button type="submit" class="btn btn-sm bg-white w3-card">Set &nbsp;<i class="fa fa-check"></i></button>
                            </td>

                        </tr>
                    </table>
                </form>
            </div>
        </div>
    </div>
</div>